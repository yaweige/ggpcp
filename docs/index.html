<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Parallel Coordinate Plots in the ggplot2 Framework • ggpcp</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Parallel Coordinate Plots in the ggplot2 Framework">
<meta property="og:description" content="Modern Parallel Coordinate Plots have been introduced in the 1980s as 
    a way to visualize arbitrarily many numeric variables. This implementation
    additionally allows categorical variables into the plots. We also make use of 
    the ggplot2 layer system.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ggpcp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/ggpcp.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<p>R package for creating parallel coordinate plots in the ggplot2 framework</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># [![CRAN Status](http://www.r-pkg.org/badges/version/ggpcp)](https://cran.r-project.org/package=ggpcp) [![CRAN RStudio mirror downloads](http://cranlogs.r-pkg.org/badges/ggpcp)](http://www.r-pkg.org/pkg/ggpcp) </span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co"># [![Travis build status](https://travis-ci.org/yaweige/ggpcp.svg?branch=master)](https://travis-ci.org/yaweige/ggpcp)</span></a></code></pre></div>
<div id="installation" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1></div>
<p><code>ggpcp</code> is currently only available in the development version from Github:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb2-2" title="2">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"yaweige/ggpcp"</span>, <span class="dt">build_vignettes =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
<div id="getting-started" class="section level1">
<h1 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting Started</h1>
<p>Load the library</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggpcp)</a></code></pre></div>
<p>Load a dataset</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyverse)</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(flea, <span class="dt">package =</span> <span class="st">"GGally"</span>)</a></code></pre></div>
<div id="a-first-parallel-coordinate-plot" class="section level2">
<h2 class="hasAnchor">
<a href="#a-first-parallel-coordinate-plot" class="anchor"></a>A first parallel coordinate plot</h2>
<p>Drawing a parallel coordinate plot in <code>ggpcp</code> consists of a three-step process:</p>
<ul>
<li>
<p>First we need to collect all of the variables from the data set that should go into the parallel coordinate plot. We use the function <code>gather_pcp</code> for it. <code>gather_pcp</code> has two main arguments: the first one is the data, the second is a specification of all of the variables you want to include in the parallel coordinate plot. You can specify variables by</p>
<ul>
<li>position, e.g. <code>1:4, 7, 5, 4</code>,</li>
<li>name, e.g. <code>class</code>, <code>age</code>, <code>sex</code>, <code>aede1:aede3</code> or</li>
<li>selector, e.g. <code>starts_with("aede")</code>, see <code><a href="https://www.rdocumentation.org/packages/tidyselect/topics/select_helpers">?tidyselect:: select_helpers</a></code>
</li>
</ul>
</li>
<li><p>Second, we choose a transformation. This …</p></li>
<li><p>Third, we are ready to plot: <code>geom_pcp</code> is a layer that draws lines for each observation of a parallel coordinate plot. We can use additional mappings such as colour, linetype or size of the lines.</p></li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">flea <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> species)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp2.html">geom_pcp2</a></span>(<span class="kw">aes</span>(<span class="dt">vars=</span><span class="kw">vars</span>(aede1, aede2, aede1, aede3)))</a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">flea <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> species)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp2.html">geom_pcp2</a></span>(<span class="kw">aes</span>(<span class="dt">vars =</span> <span class="kw">vars</span>(<span class="kw">starts_with</span>(<span class="st">"aede"</span>), <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">6</span>)), </a>
<a class="sourceLine" id="cb6-4" title="4">            <span class="dt">method =</span> <span class="st">"uniminmax"</span>)</a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">flea <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="st">  </span><span class="kw"><a href="reference/gather_pcp.html">gather_pcp</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>, <span class="dv">6</span>, <span class="dv">3</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="st">  </span><span class="kw"><a href="reference/transform_pcp.html">transform_pcp</a></span>(<span class="dt">method=</span><span class="st">"uniminmax"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">id =</span> id, <span class="dt">name =</span> name, <span class="dt">value =</span> value, <span class="dt">level =</span> level, <span class="dt">class =</span> class)) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp.html">geom_pcp</a></span>(<span class="kw">aes</span>(<span class="dt">colour=</span>species, <span class="dt">size =</span> species), <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="st">  </span><span class="kw">scale_size_manual</span>(<span class="dt">values=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="fl">0.5</span>, <span class="fl">0.65</span>, <span class="fl">0.8</span>))</a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">flea <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">species =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(species, <span class="dt">levels =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Heptapot."</span>,  <span class="st">"Concinna"</span>, <span class="st">"Heikert."</span>))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="st">  </span><span class="kw"><a href="reference/gather_pcp.html">gather_pcp</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="st">  </span><span class="kw"><a href="reference/transform_pcp.html">transform_pcp</a></span>(<span class="dt">method=</span><span class="st">"uniminmax"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">id =</span> id, <span class="dt">name =</span> name, <span class="dt">value =</span> value, <span class="dt">level =</span> level, <span class="dt">class =</span> class)) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp_box.html">geom_pcp_box</a></span>(<span class="dt">boxwidth =</span> <span class="fl">0.1</span>, <span class="dt">fill=</span><span class="st">"grey50"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp.html">geom_pcp</a></span>(<span class="kw">aes</span>(<span class="dt">colour=</span>species), <span class="dt">boxwidth =</span> <span class="fl">0.1</span>) </a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">flea <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">species =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(species, <span class="dt">levels =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Heptapot."</span>,  <span class="st">"Concinna"</span>, <span class="st">"Heikert."</span>))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">vars =</span> <span class="kw">vars</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp_box2.html">geom_pcp_box2</a></span>(<span class="dt">boxwidth =</span> <span class="fl">0.1</span>, <span class="dt">fill=</span><span class="st">"grey80"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp2.html">geom_pcp2</a></span>(<span class="kw">aes</span>(<span class="dt">colour=</span>species), <span class="dt">boxwidth =</span> <span class="fl">0.1</span>) </a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" width="700"><code>ggpcp</code> deals with categorical variables by using the space on the y axis of a categorical variable to spread points out evenly. This allows us to track individual points through the parallel coordinate plot even in the presence of categorical variables.</p>
</div>
<div id="another-look-at-the-titanic-data" class="section level2">
<h2 class="hasAnchor">
<a href="#another-look-at-the-titanic-data" class="anchor"></a>Another look at the Titanic Data</h2>
<p>For categorical variables <code>ggpcp</code> presents a result similar to parsets by Kosara et al (2013).</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">titanic &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.data.frame">as.data.frame</a></span>(Titanic)</a>
<a class="sourceLine" id="cb10-2" title="2">titanic &lt;-<span class="st"> </span>titanic <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span>(<span class="dt">.f =</span> <span class="cf">function</span>(x) <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(x, titanic<span class="op">$</span>Freq)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.data.frame">as.data.frame</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>Freq)</a>
<a class="sourceLine" id="cb10-5" title="5"></a>
<a class="sourceLine" id="cb10-6" title="6">titanic <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-7" title="7"><span class="st">  </span><span class="kw"><a href="reference/gather_pcp.html">gather_pcp</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-8" title="8"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">id =</span> id, <span class="dt">name =</span> name, <span class="dt">value =</span> value, <span class="dt">level =</span> level, <span class="dt">class =</span> class)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-9" title="9"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp.html">geom_pcp</a></span>(<span class="kw">aes</span>(<span class="dt">colour =</span> Survived), <span class="dt">alpha =</span> <span class="fl">0.01</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-10" title="10"><span class="st">  </span><span class="kw">scale_colour_manual</span>(<span class="dt">values=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"darkorange"</span>, <span class="st">"steelblue"</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-11" title="11"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">colour=</span><span class="kw">guide_legend</span>(<span class="dt">override.aes =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">alpha=</span><span class="dv">1</span>))) </a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">titanic <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">vars=</span><span class="kw">vars</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp2.html">geom_pcp2</a></span>(<span class="kw">aes</span>(<span class="dt">colour =</span> Survived), <span class="dt">alpha =</span> <span class="fl">0.1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="st">  </span><span class="kw">scale_colour_manual</span>(<span class="dt">values=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"darkorange"</span>, <span class="st">"steelblue"</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">colour=</span><span class="kw">guide_legend</span>(<span class="dt">override.aes =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">alpha=</span><span class="dv">1</span>))) </a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<p>By setting break points between blocks of categorical variables, we can focus on the two-dimensional relationship between variables on adjacent axes:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">titanic <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">vars =</span> <span class="kw">vars</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp2.html">geom_pcp2</a></span>(<span class="kw">aes</span>(<span class="dt">colour =</span> Class), <span class="dt">alpha =</span> <span class="fl">0.1</span>, <span class="dt">breakpoint=</span><span class="dv">2</span><span class="op">:</span><span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="co">#  scale_colour_manual(values=c("darkorange", "steelblue")) +</span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">colour=</span><span class="kw">guide_legend</span>(<span class="dt">override.aes =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">alpha=</span><span class="dv">1</span>))) </a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>To combine the option of tracking individuals with the focus on 2d relationships between axes, we introduce a box for each axis to allow the tracking. For the thousands of people on board the Titanic individual tracking is tricky, but with good eyesight and a large screen still manageable :)</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">titanic <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">vars=</span><span class="kw">vars</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp_box2.html">geom_pcp_box2</a></span>(<span class="dt">boxwidth=</span><span class="fl">0.1</span>, <span class="dt">fill=</span><span class="ot">NA</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp2.html">geom_pcp2</a></span>(<span class="kw">aes</span>(<span class="dt">colour =</span> Class), <span class="dt">alpha =</span> <span class="fl">0.08</span>, </a>
<a class="sourceLine" id="cb13-5" title="5">            <span class="dt">boxwidth=</span><span class="fl">0.1</span>, <span class="dt">breakpoint=</span><span class="dv">2</span><span class="op">:</span><span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb13-6" title="6"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">colour=</span><span class="kw">guide_legend</span>(<span class="dt">override.aes =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">alpha=</span><span class="dv">1</span>))) </a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
</div>
<div id="mixed-data-categorical-and-numeric-variables" class="section level2">
<h2 class="hasAnchor">
<a href="#mixed-data-categorical-and-numeric-variables" class="anchor"></a>Mixed data: categorical and numeric variables</h2>
<p>The <code>mtcars</code> data is terribly old, but serves a good purpose here. All of the variables are coded as numeric variables, even when they should, in fact, be factor variables. In a standard parallel coordinate plot we get the usual uninformative fishnet between categorical variables such as <code>vs</code>, <code>am</code>, and <code>gear</code>, but also visible for variable <code>cyl</code>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">vars =</span> <span class="kw">vars</span>(<span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">ncol</a></span>(mtcars)))) <span class="op">+</span></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp2.html">geom_pcp2</a></span>(<span class="kw">aes</span>(<span class="dt">colour =</span> mpg)) </a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
<p>Once the variables are coded properly as factor variables, we get a much more informative view:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cyl =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(cyl),</a>
<a class="sourceLine" id="cb15-3" title="3">         <span class="dt">vs =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(vs),</a>
<a class="sourceLine" id="cb15-4" title="4">         <span class="dt">am =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(am),</a>
<a class="sourceLine" id="cb15-5" title="5">         <span class="dt">gear=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(gear),</a>
<a class="sourceLine" id="cb15-6" title="6">         <span class="dt">carb =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(carb)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-7" title="7"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">vars =</span> <span class="kw">vars</span>(<span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">ncol</a></span>(mtcars)))) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-8" title="8"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp_box2.html">geom_pcp_box2</a></span>(<span class="dt">boxwidth=</span><span class="fl">0.1</span>, <span class="dt">fill=</span><span class="ot">NA</span>, <span class="dt">colour=</span><span class="st">"grey70"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-9" title="9"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp2.html">geom_pcp2</a></span>(<span class="kw">aes</span>(<span class="dt">colour =</span> mpg), <span class="dt">boxwidth=</span><span class="fl">0.1</span>, <span class="dt">breakpoint=</span><span class="dv">9</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">size=</span><span class="dv">1</span>, <span class="dt">alpha =</span><span class="fl">0.9</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="st">  </span><span class="kw">scale_colour_gradient2</span>(<span class="st">"mpg"</span>, <span class="dt">mid=</span><span class="st">"grey50"</span>, <span class="dt">midpoint =</span> <span class="dv">20</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-11" title="11"><span class="st">  </span><span class="kw">theme_bw</span>()</a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
<p>What becomes obvious in this plot, is that the miles per gallons (mpg) for each - encoded as the first variable in the plot and as color of the lines - is correlated strongly with all of the variables, not just the numeric variables. A large number of cylinders (cyl), a V-shaped engine (vs = 0), an automatic transmission (am = 0), a low number of forward gears and a high number of carburetors are related to a low value of mpg (red lines).</p>
</div>
<div id="bigger-example" class="section level2">
<h2 class="hasAnchor">
<a href="#bigger-example" class="anchor"></a>Bigger Example</h2>
<p>One application for parallel coordinate plots is their use for visualizing clusters.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(nasa, <span class="dt">package =</span> <span class="st">"GGally"</span>)</a></code></pre></div>
<p>The <code>nasa</code> data, available from the <code>GGally</code> package, was used in the 2006 ASA Expo. It consists of monthly measurements of several climate variables, such as cloud coverage, temperature, pressure, and ozone values, captured on a 24x24 grid across Central America between 1995 and 2000.</p>
<p>The results from clustering on monthly measurements can then be summarized visually. What we see is that the clusters have a very distinct geographic pattern (tile plot).</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1">wide <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">separate</span>(id, <span class="dt">into=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"x"</span>, <span class="st">"y"</span>), <span class="dt">remove =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">x =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/numeric">as.numeric</a></span>(x), <span class="dt">y =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/numeric">as.numeric</a></span>(y)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-3" title="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y=</span>y, <span class="dt">fill=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(cl7))) <span class="op">+</span></a>
<a class="sourceLine" id="cb17-4" title="4"><span class="st">  </span><span class="kw">geom_tile</span>() <span class="op">+</span><span class="st"> </span><span class="kw">scale_fill_brewer</span>(<span class="st">"Cluster"</span>, <span class="dt">palette =</span> <span class="st">"Dark2"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb17-5" title="5"><span class="st">  </span><span class="kw">xlab</span>(<span class="st">"Latitude"</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">"Longitude"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb17-6" title="6"><span class="st">  </span><span class="kw">coord_equal</span>()</a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-17-1.png" width="700"></p>
<p>From the using a parallel coordinate plot we see that cloud coverage in low, medium and high altitude distinguishes quite succinctly between some of the clusters. (Relative) temperatures in January (1) and July (7) are very indicative to separate between clusters on the Southern and Northern hemisphere.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1">wide <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb18-2" title="2"><span class="st">  </span><span class="kw"><a href="reference/gather_pcp.html">gather_pcp</a></span>(<span class="dv">83</span><span class="op">:</span><span class="dv">94</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="st">  </span><span class="kw"><a href="reference/transform_pcp.html">transform_pcp</a></span>(<span class="dt">method =</span> <span class="st">"uniminmax"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb18-4" title="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">id=</span>id, <span class="dt">name=</span>name, <span class="dt">value=</span>value, <span class="dt">level=</span>level, <span class="dt">class=</span>class)) <span class="op">+</span></a>
<a class="sourceLine" id="cb18-5" title="5"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp.html">geom_pcp</a></span>(<span class="kw">aes</span>(<span class="dt">colour=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(cl7))) <span class="op">+</span><span class="st"> </span><span class="kw">facet_wrap</span>(<span class="op">~</span>cl7) <span class="op">+</span></a>
<a class="sourceLine" id="cb18-6" title="6"><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span><span class="st"> </span><span class="kw">scale_colour_brewer</span>(<span class="st">"Cluster"</span>, <span class="dt">palette =</span> <span class="st">"Dark2"</span>)</a></code></pre></div>
<pre><code>## Warning: Removed 240 rows containing missing values (geom_segment).</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-18-1.png" width="700"></p>
<div id="visualizing-the-cluster-process" class="section level3">
<h3 class="hasAnchor">
<a href="#visualizing-the-cluster-process" class="anchor"></a>Visualizing the cluster process</h3>
<p>Needs more words …</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">wide <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-2" title="2"><span class="st">  </span><span class="kw"><a href="reference/gather_pcp.html">gather_pcp</a></span>(<span class="dv">74</span><span class="op">:</span><span class="dv">82</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-3" title="3"><span class="st">  </span><span class="kw"><a href="reference/transform_pcp.html">transform_pcp</a></span>(<span class="dt">method =</span> <span class="st">"uniminmax"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-4" title="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">id=</span>id, <span class="dt">name=</span>name, <span class="dt">value=</span>value, <span class="dt">level=</span>level, <span class="dt">class=</span>class)) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-5" title="5"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp.html">geom_pcp</a></span>()</a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-19-1.png" width="700"></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1">wide <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb21-3" title="3">    <span class="dt">cl2 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(cl2),</a>
<a class="sourceLine" id="cb21-4" title="4">    <span class="dt">cl3 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(cl3),</a>
<a class="sourceLine" id="cb21-5" title="5">    <span class="dt">cl4 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(cl4),</a>
<a class="sourceLine" id="cb21-6" title="6">    <span class="dt">cl5 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(cl5),</a>
<a class="sourceLine" id="cb21-7" title="7">    <span class="dt">cl6 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(cl6),</a>
<a class="sourceLine" id="cb21-8" title="8">    <span class="dt">cl7 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(cl7),</a>
<a class="sourceLine" id="cb21-9" title="9">    <span class="dt">cl8 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(cl8),</a>
<a class="sourceLine" id="cb21-10" title="10">    <span class="dt">cl9 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(cl9),</a>
<a class="sourceLine" id="cb21-11" title="11">    <span class="dt">cl10 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(cl10)</a>
<a class="sourceLine" id="cb21-12" title="12">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-13" title="13"><span class="st">  </span><span class="kw"><a href="reference/gather_pcp.html">gather_pcp</a></span>(<span class="dv">74</span><span class="op">:</span><span class="dv">82</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-14" title="14"><span class="st">  </span><span class="kw"><a href="reference/transform_pcp.html">transform_pcp</a></span>(<span class="dt">method =</span> <span class="st">"uniminmax"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-15" title="15"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">id=</span>id, <span class="dt">name=</span>name, <span class="dt">value=</span>value, <span class="dt">level=</span>level, <span class="dt">class=</span>class)) <span class="op">+</span></a>
<a class="sourceLine" id="cb21-16" title="16"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp_box.html">geom_pcp_box</a></span>(<span class="dt">boxwidth=</span><span class="fl">0.1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb21-17" title="17"><span class="st">  </span><span class="kw"><a href="reference/geom_pcp.html">geom_pcp</a></span>(<span class="kw">aes</span>(<span class="dt">colour =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">factor</a></span>(cl10)), <span class="dt">alpha =</span> <span class="fl">0.05</span>, <span class="dt">boxwidth=</span><span class="fl">0.1</span>)</a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-19-2.png" width="700"></p>
<p>See also: <a href="https://www.rdocumentation.org/packages/ggplot2/versions/0.9.2.1/topics/ggpcp" class="uri">https://www.rdocumentation.org/packages/ggplot2/versions/0.9.2.1/topics/ggpcp</a></p>
</div>
</div>
</div>
<div id="related-work" class="section level1">
<h1 class="hasAnchor">
<a href="#related-work" class="anchor"></a>Related work</h1>
<p>Parallel coordinate plots have been implemented in analysis software since the mid 1980s (Inselberg 1985, Wegman 1990). Several packages in R are dedicated to visualizing parallel coordinate plots.</p>
<p>Using base plots the main function for drawing parallel coordinate plots is <code>parcoord</code> implemented in MASS (Venables and Ripley 2004). The package <code>gclus</code> (Hurley 2019) implements <code>cparcoord</code> to include panel color as a representation of the strength of a correlation between neighboring axes.</p>
<p>Within the ggplot2 environment there are several packages implementing parallel coordinate plots. For numeric variables there’s the function <code>ggparcoord</code> from the <code>GGally</code> package, for categorical variables the <code>ggparallel</code> package provides an implementation of pcp-like plots, such as the Hammock plot (Schonlau 2003) and parsets (Kosara et al, 2013).</p>
<p>The <a href="https://github.com/rstats-gsoc/gsoc2017/wiki/bigPint%3A-Big-multivariate-data-plotted-interactively">bigPint</a> Google Summer of Code project 2017 implemented static and interactive versions of parallel coordinate plots within the framework of plotting large data interactively. These functions are meant for exploration and discovery and are not fully parameterized for their appearance.</p>
</div>
<div id="motivation-for-the-re-implementation" class="section level1">
<h1 class="hasAnchor">
<a href="#motivation-for-the-re-implementation" class="anchor"></a>Motivation for the Re-implementation</h1>
<p>As can be seen from the examples above, there are a lot of approaches to parallel coordinate plots, so why do we need another implementation?</p>
<p>All of the implementations described above have in common that they describe highly specialized plots - in the sense that there are tens of parameters describing construction, type, and appearance of the plot. While giving the user some flexibility this way, this approach goes against the modular approach of the tidyverse, and in particular against the layered approach of ggplot2, i.e. at best the approaches make use of ggplot2, but they do not make use of the ideas behind ggplot2.</p>
<p>The main idea of <code>ggpcp</code> is that we separate the data transformations from the visualization, i.e. rather than working with a single function to draw a plot, we are providing a set of functions that work together.</p>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<ul>
<li>Hofmann H., Vendettuoli M.: Common Angle Plots as Perception-True Visualizations of Categorical Associations, IEEE Transactions on Visualization and Computer Graphics, 19(12), 2297-2305, 2013. doi: 10.1109/TVCG.2013.140</li>
<li>Hurley C.: gclus: Clustering Graphics. R package version 1.3.2. <a href="https://CRAN.R-project.org/package=gclus" class="uri">https://CRAN.R-project.org/package=gclus</a>
</li>
<li>Inselberg A., The Plane with Parallel Coordinates, The Visual Computer, 1(2), 69-91, 1985.</li>
<li>Kosara R., Bendix F., Hauser H., Parallel Sets: Interactive Exploration and Visual Analysis of Categorical Data, IEEE Transactions on Visualization and Computer Graphics, 12(4), 558-568, 2006.</li>
<li>Schloerke B., Crowley J., Cook D., Briatte F., Marbach M., Thoen E., Elberg ., Larmarange J.: GGally: Extension to ‘ggplot2’, R package version 1.4.0.</li>
<li>Schonlau M.: Visualizing Categorical Data Arising in the Health Sciences Using Hammock Plots, Proc. of Section on Statistical Graphics ASA, 2003.</li>
<li>Venables W.N., Ripley B.D.: Modern Applied Statistics with S (4th ed), Springer, 2002.</li>
<li>Wegman, E., Hyperdimensional Data Analysis Using Parallel Coordinates, JASA, 85(411), 664-675, 1990.</li>
<li>Wickham H., ggplot2: Elegant graphics for data analysis (2nd ed), Springer, 2016</li>
<li>Wickham H., Tidy data. The Journal of Statistical Software, 59, 2014.</li>
<li>Wilkinson L., The Grammar of Graphics. Statistics and Computing, Springer, 1999.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Yawei Ge <br><small class="roles"> Author, maintainer </small>  </li>
<li>Heike Hofmann <br><small class="roles"> Author </small>  </li>
</ul>
</div>

      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Yawei Ge, Heike Hofmann.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
